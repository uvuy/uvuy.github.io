<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Share Button with Loading Bar</title>
    <style>
        #loadingBarContainer {
            width: 100%;
            background-color: #ddd;
            margin-top: 10px;
        }

        #loadingBar {
            width: 0%;
            height: 30px;
            background-color: #4caf50;
            text-align: center;
            line-height: 30px;
            color: white;
            font-size: 18px;
        }
    </style>
    <script>
        let openCount = 0;

        function handleClick() {
            showLoadingBar();
            shareOnWhatsApp();
        }

        function showLoadingBar() {
            openCount++;
            const loadingBar = document.getElementById('loadingBar');
            const percentage = (openCount / 3) * 100;
            loadingBar.style.width = percentage + '%';
            
            // Convert percentage to a single digit (1, 2, or 3)
            const digit = Math.ceil(percentage / 33.33); // 33.33 is roughly 100%/3
            loadingBar.textContent = digit;
        }

        function shareOnWhatsApp() {
            const message = "Ini adalah pesan yang ingin dibagikan melalui WhatsApp!";
            const url = `whatsapp://send?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
            if (openCount === 3) {
                window.location.href = "https://www.google.com";
            }
        }
    </script>
</head>
<body>
    <button onclick="handleClick()">Klik saya untuk share di WhatsApp</button>
    <div id="loadingBarContainer">
        <div id="loadingBar"> </div>
    </div>
</body>
</html>
